[gd_scene load_steps=19 format=4 uid="uid://duobiyv8ws4fs"]

[ext_resource type="PackedScene" uid="uid://bljq3vkud567q" path="res://src/characters/player/player.tscn" id="1_8a5hx"]
[ext_resource type="Texture2D" uid="uid://kr0mxy18erdx" path="res://assets/greybox_textures/greybox_checker_small.png" id="2_0huwb"]
[ext_resource type="PackedScene" uid="uid://b1kmhtrjyer4j" path="res://src/characters/enemies/boss_tatar/boss_tatar.tscn" id="2_0ri6j"]
[ext_resource type="PackedScene" uid="uid://dxhicargygtk3" path="res://src/characters/enemies/tatar/tatar.tscn" id="3_0huwb"]
[ext_resource type="PackedScene" uid="uid://bwlmc44iv1d01" path="res://src/objects/potions/health_potion.tscn" id="4_0nfa4"]
[ext_resource type="PackedScene" uid="uid://lah3a1arll6j" path="res://src/objects/other/ladder.tscn" id="5_6w5xy"]
[ext_resource type="PackedScene" uid="uid://bdb4l1854bjv3" path="res://src/shared/roadblock/roadblock.tscn" id="7_cpb20"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_7k8c1"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_lfyvx"]
sky_material = SubResource("ProceduralSkyMaterial_7k8c1")

[sub_resource type="Environment" id="Environment_w2p53"]
background_mode = 2
sky = SubResource("Sky_lfyvx")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_uyg78"]
vertices = PackedVector3Array(-9.5, -1.005, -9.5, -9.5, -1.005, 9.5, 9.5, -1.005, 9.5, 9.5, -1.005, -9.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
agent_max_slope = 60.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lfyvx"]
albedo_texture = ExtResource("2_0huwb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w2p53"]
albedo_texture = ExtResource("2_0huwb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ghea0"]
resource_name = "DarkWood"
albedo_color = Color(0.3803923, 0.26274508, 0.19215693, 1)
metallic = 0.4
metadata/extras = {
"fromFBX": {
"isTruePBR": false,
"shadingModel": "Phong"
}
}

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yah7l"]
resource_name = "Leather"
albedo_color = Color(0.90588254, 0.7294117, 0.43137267, 1)
metallic = 0.4
roughness = 0.14002801
metadata/extras = {
"fromFBX": {
"isTruePBR": false,
"shadingModel": "Phong"
}
}

[sub_resource type="ArrayMesh" id="ArrayMesh_nd4g5"]
_surfaces = [{
"aabb": AABB(-0.00042700904, -3.442782e-06, -0.0004044056, 0.0008540181, 0.0029361644, 0.00080881116),
"format": 34896613377,
"index_count": 48,
"index_data": PackedByteArray("AAABAAIAAwABAAAAAwAEAAEAAQAEAAUABQACAAEAAwAAAAYABgAAAAIABgAHAAMACAAHAAYABQAJAAIAAgAJAAYACQAFAAoACQAKAAgABgALAAgACAALAAkABgAJAAsA"),
"name": "DarkWood",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 12,
"vertex_data": PackedByteArray("/v8AAP+/AAD//wAA/z8AAP9/AAAAAAAA/v////+/AAD//////z8AAP9///8AAAAA/38AAP//AAD/f////v8AAAAA////vwAAAAAAAP8/AAAAAP///z8AAAAAAAD/vwAA")
}, {
"aabb": AABB(-0.0021508639, 0.0029327215, -0.0015858699, 0.0043017277, 0.008599413, 0.0031717392),
"format": 34896613377,
"index_count": 264,
"index_data": PackedByteArray("AAABAAIAAAADAAEAAgABAAQAAwAEAAEABAAFAAIABAADAAYABQAEAAcABwAEAAYABgADAAgACQAHAAYACgAJAAYABwAJAAsACwAJAAoABgAMAAoACAAMAAYADQAKAAwABwAOAAUADQAPAAoACgAPAAsACwAQAAcAEQAOAAcAEAARAAcAEgAFAA4AEgAOABEAEwAQAAsAEQAQABMACwAPABQAFAAVAAsAFQATAAsAFQAUABYAFgAXABUAEwAVABcAFwAYABMAEwAYABkAEwAZABoAEwAaABEAGgAZABsAFAAcABYAHAAUAA8AHAAdABYAGwAdABwADwAeABwAHwAaABsAHAAfABsAHwARABoAIAAfABwAIAARAB8AIAAcAB4AEQAgABIADQAeAA8AIAAeAA0ADQASACAADQAhABIAIQAFABIAIQANACIADAAiAA0ABQAhACMAIwAhACIAIgAMAAgAIwACAAUACAAkACIAIgAkACMAJQAkAAgAIwAkACUAJgACACMAJQAmACMAJgAnAAIAAgAnAAAAJwAmACgAJQAoACYAKAApACcAAAAnACkAKAAlACoAKQAoACoAKQArAAAAKgArACkAAAArACwALAArACoALAAtAAAAAwAAAC0AKgAuACwALgAqACUALQAsAC4AJQAvAC4ALgAvAC0AAwAtAC8ACAAvACUALwAIAAMA"),
"name": "Leather",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 48,
"vertex_data": PackedByteArray("/39b8FwpAAD/f5K7CjMAAOm7kruEWQAAFUSSu4RZAAD/f5K7QQ8AAFjnkrufPQAAphiSu589AAD/f0KYAAAAABVEkrt6pgAAAABCmMotAAAAAEKYNNIAAJEoK0rYRwAAphiSu1/CAAD/f0KY//8AAP//QpjKLQAAkSgrSia4AAD/fytKsg8AAG3XK0rYRwAA//9CmDTSAAD/f0MG7gkAABQkQwYHuwAAFCRDBvdEAACWZgAAUZAAAJZmAACtbwAA/38AAFtfAABomQAArW8AAOrbQwb3RAAAaJkAAFGQAAD/f0MGEPYAAP9/AACjoAAA/38rSkzwAADq20MGB7sAAG3XK0omuAAAWOeSu1/CAAD/f5K7vfAAAOm7krt6pgAA/3+Su/TMAAD/f1vwotYAAHLDW/BRqwAAcsNb8K1UAACpov//Q5YAAKmi//+8aQAA/3///4asAAD/f///eFMAAFVd//+8aQAAjDxb8K1UAABVXf//QpYAAIw8W/BRqwAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_6p5np"]
resource_name = "Root Scene_Dummy_002"
_surfaces = [{
"aabb": AABB(-0.00042700904, -3.442782e-06, -0.0004044056, 0.0008540181, 0.0029361644, 0.00080881116),
"format": 34896613383,
"index_count": 48,
"index_data": PackedByteArray("AAABAAIAAwAAAAIAAgAEAAMAAwAEAAUABgAHAAgACAAJAAYACgALAAwACwAKAA0ADgAPABAAEAARAA4AEgATABQAFAAVABIAFgAXABgAFgAZABcAGgAbABwAHAAdABoA"),
"material": SubResource("StandardMaterial3D_ghea0"),
"name": "DarkWood",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 30,
"vertex_data": PackedByteArray("/v8AAP+//////wAA/z////9/AAAAAP///38AAP////8AAAAA/z///wAAAAD/v///AAAAAP8//78AAP///z//vwAA////v/+/AAAAAP+//78AAAAA/z+d8P9///8AAJ3wAAD///8/nfD/fwAAAACd8P9/AAD//4KvAAAAAP+/gq8AAP///7+Cr/9////+/4Kv/38AAP//2tT/f////v/a1P7/////v9rU/v8AAP+/2tT+/////7//////AAD/P////v8AAP+//////////z////9///8AALn2/38AAAAAufb//wAA/z+59v//////P7n2/3//P/9//z//f/8//3//P/9//z//f/8//3////9/////f////3///4RThMmEU4TJhFOEyYRThMn5bcqd+W3Knfltyp35bcqdJJU0cySVNHMklTRzJJU0c/+//3//v/9//7//f/+//3/zxa1V88WtVfPFrVXzxa1V")
}, {
"aabb": AABB(-0.0021508639, 0.0029327215, -0.0015858699, 0.0043017277, 0.008599413, 0.0031717392),
"format": 34896613383,
"index_count": 264,
"index_data": PackedByteArray("AAABAAIAAgADAAAABAAFAAYABgAHAAQACAAJAAoACQAIAAsADAANAA4ADgAPAAwAEAARABIAEgATABAAFAAVABYAFgAXABQAGAAZABoAGgAbABgAHAAbABoAGgAdABwAHgAfACAAIAAhAB4AIgAjACQAIgAkACUAJgAnACgAKAApACYAKgArACwALAAtACoALgAvADAAMAAxAC4AMgAzADQAMwAyADUANgA3ADgAOAA5ADYAOgA4ADcANwA7ADoAPAA6ADsAOgA8AD0APQA8AD4APgA/AD0AQAA/AD4APgBBAEAAQgBDAEQARABFAEIARgBHAEgASABJAEYASgBLAEwASwBKAE0ATgBPAFAAUABRAE4AUgBTAFQAVQBTAFIAVgBXAFgAWABZAFYAWgBbAFwAXABdAFoAXgBfAGAAXgBhAF8AYgBjAGQAZABlAGIAZgBnAGgAaQBmAGgAagBrAGwAbABtAGoAbgBvAHAAcQBuAHAAcgBzAHQAcgB1AHMAdgB3AHgAeAB5AHYAegB7AHwAfQB7AHoAfgB/AIAAgACBAH4AggCDAIQAhQCCAIQAhgCHAIgAiACJAIYAigCLAIwAjQCKAIwAjgCPAJAAkACRAI4AkgCTAJQAlACVAJIAlgCXAJgAlgCYAJkAmgCbAJwAnACdAJoAngCfAKAAoAChAJ4AogCjAKQApQCiAKQA"),
"material": SubResource("StandardMaterial3D_yah7l"),
"name": "Leather",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 166,
"vertex_data": PackedByteArray("/39b8Fwp3Pj/f5K7CjPc+Om7kruEWdz4csNb8K1U3Pipov//vGnJ5f9///94U8nl/39b8FwpyeVyw1vwrVTJ5f9/W/Ci1uLrqaL//0OW4utyw1vwUavi6/9///+GrOLrjDxb8K1U29pVXf//vGnb2lVd//9CltvajDxb8FGr29pyw1vwrVTT+nLDW/BRq9P6qaL//0OW0/qpov//vGnT+v9/W/Ci1qvLjDxb8FGrq8tVXf//Qpary/9///+GrKvLqaL//7xp//+pov//Q5b///9///+GrP///3///3hT//9VXf//vGn//1Vd//9Clv///39b8FwpQ///f///eFND/1Vd//+8aUP/jDxb8K1UQ/9yw1vwUav//3LDW/CtVP//6buSu4RZ///pu5K7eqb//xVEkrt6ppSvjDxb8FGrlK//f1vwotaUr/9/krv0zJSv6buSu3qmH9T/f5K79Mwf1P9/W/Ci1h/UcsNb8FGrH9QVRJK7hFk0wIw8W/CtVDTAjDxb8FGrNMAVRJK7eqY0wBVEkruEWTPv/39b8FwpM++MPFvwrVQz7/9/krsKMzPv6buSu3qm///pu5K7hFn//1jnkrufPf//WOeSu1/C////f5K7QQ////9/krsKM///FUSSu4RZ//+mGJK7nz3//xVEkrt6pv//phiSu1/C////f5K7vfD///9/krv0zP///3+Su73w////f5K79Mz//+m7krt6pv//WOeSu1/C//9Y55K7nz1X8v9/krtBD1fy/39CmAAAV/L//0KYyi1X8v9/Qpj//yTQWOeSu1/CJND//0KYNNIk0P9/kru98CTQphiSu589q8SmGJK7X8KrxAAAQpg00qvEAABCmMotq8T//0KYNNJ3/1jnkrufPXf///9CmMotd/9Y55K7X8J3//9/Qpj///62AABCmDTS/ramGJK7X8L+tv9/kru98P62bdcrSthHw/9t1ytKJrjD////Qpg00sP///9CmMotw///f0KY//9ttJEoK0omuG20AABCmDTSbbT/fytKTPBttP9/QpgAAJDxAABCmMotkPGRKCtK2EeQ8f9/K0qyD5DxbdcrSthHtvz//0KYyi22/P9/QpgAALb8/38rSrIPtvxt1ytKJriSzv9/K0pM8JLO/39CmP//ks7//0KYNNKSzv9/QpgAAMz7/3+Su0EPzPumGJK7nz3M+wAAQpjKLcz7bdcrSia4SdX/f0MGEPZJ1f9/K0pM8EnV6ttDBge7SdWRKCtK2EcKwJEoK0omuArAFCRDBge7CsAUJEMG90QKwOrbQwYHu///bdcrSthH///q20MG90T//23XK0omuP///39DBhD2oa8UJEMGB7uhr5EoK0omuKGv/38rSkzwoa//f0MG7glK8f9/K0qyD0rxkSgrSthHSvEUJEMG90RK8ZEoK0rYR6jCAABCmMotqMIAAEKYNNKowpEoK0omuKjC/39DBhD20vz/fwAAo6DS/JZmAABRkNL8FCRDBge70vz/f0MG7glK+BQkQwb3REr4lmYAAK1vSvj/fwAAW19K+P9/QwYQ9i/36ttDBge7L/domQAAUZAv9/9/AACjoC/3/39DBu4J+fz/fwAAW1/5/GiZAACtb/n86ttDBvdE+fwUJEMG90Sj+RQkQwYHu6P5lmYAAFGQo/mWZgAArW+j+W3XK0rYR7f1/38rSrIPt/X/f0MG7gm39erbQwb3RLf16ttDBvdEo/tomQAArW+j+2iZAABRkKP76ttDBge7o/sAxdpVAMXaVQDF2lUAxdpVk7ioIpO4qCKTuKgik7ioImOX65pjl+uaY5frmmOX65raeTvE2nk7xNp5O8TaeTvEuCkuIbgpLiG4KS4huCkuIZWL/6mVi/+plYv/qZWL/6n/f/+//3//v/9//7//f/+//3//v/9//7/+v0kg/r9JIP6/SSD+v0kgt72Ye7e9mHu3vZh7t72YewRq1poEataaBGrWmgRq1poMkxhwDJMYcAyTGHAMkxhwh4j8/4eI/P+HiPz/h4j8/2hT08toU9PLaFPTy2hT08v/f/+//3//v/9//7//f/+//3//v/9//7//f/+//3//v/9//7//f/+//3//v/9//7//f/+//3//v/9//7//f/+/RcV8SUXFfElFxXxJRcV8SVSWsoBUlrKAVJaygFSWsoAgf/3eIH/93iB//d4gf/3e/xLYNP8S2DT/Etg0/xLYND1/fpw9f36cPX9+nD1/fpyvt0lxr7dJca+3SXGvt0lxO2jZjjto2Y47aNmOO2jZjl1OOstdTjrLXU46y11OOsthwttQYcLbUGHC21BhwttQp4t3baeLd22ni3dtp4t3bTVPe8E1T3vBNU97wTVPe8EZlrJ0GZaydBmWsnQZlrJ0/3/m+/9/5vv/f+b7/3/m+xQC8D4UAvA+FALwPhQC8D7Ubxef1G8Xn9RvF5/UbxefnlOQyJ5TkMieU5DInlOQyF2alv9dmpb/XZqW/12alv8qeBNKKngTSip4E0oqeBNKe0Qx/HtEMfx7RDH8e0Qx/F59L0defS9HXn0vR159L0eKQBb2ikAW9opAFvaKQBb2PMJQ+zzCUPs8wlD7PMJQ+1LGf1VSxn9VUsZ/VVLGf1W2hnRDtoZ0Q7aGdEO2hnRD")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_nd4g5")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7k8c1"]
radius = 0.20166016
height = 1.1330566

[node name="TestWorld" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_w2p53")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 6.8884916, 0)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_uyg78")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.5, 0)
material_override = SubResource("StandardMaterial3D_lfyvx")
use_collision = true
collision_layer = 2
collision_mask = 5
size = Vector3(20, 0.01, 20)
material = SubResource("StandardMaterial3D_w2p53")

[node name="BossTatar" parent="NavigationRegion3D" instance=ExtResource("2_0ri6j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.4667501, -0.24499989, -4.68841)
player_path = NodePath("../../Player")

[node name="Tatar" parent="NavigationRegion3D" instance=ExtResource("3_0huwb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6.8202868)
player_path = NodePath("../../Player")

[node name="Player" parent="." instance=ExtResource("1_8a5hx")]

[node name="Dummy" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.137945, -0.655035, -5.906251)
collision_layer = 4
collision_mask = 3

[node name="DummyModel" type="MeshInstance3D" parent="Dummy"]
transform = Transform3D(100, 0, 0, 0, 100, -4.371139e-06, 0, 4.371139e-06, 100, 0, 0, 0)
mesh = SubResource("ArrayMesh_6p5np")
skeleton = NodePath("")

[node name="DummyCollision" type="CollisionShape3D" parent="Dummy"]
transform = Transform3D(1, 0, 0, 0, 1, -4.3711385e-08, 0, 4.3711385e-08, 1, 0, 0.5771885, 0)
shape = SubResource("CapsuleShape3D_7k8c1")

[node name="HealthPotion" parent="." instance=ExtResource("4_0nfa4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.2218475, -1.1949995, -0.84898424)
healing_amount = 30

[node name="HealthPotion2" parent="." instance=ExtResource("4_0nfa4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.7330513, -1.1949999, 1.0483855)
healing_amount = -50

[node name="Ladder" parent="." instance=ExtResource("5_6w5xy")]
transform = Transform3D(2.9641972, 0, 0, 0, 3.086731, 0, 0, 0, 1, -6.2176843, 0.048365474, -8.301056)

[node name="Roadblock" parent="." instance=ExtResource("7_cpb20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.2248592, -0.49499893, 4.0022254)
